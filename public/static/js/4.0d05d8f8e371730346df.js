webpackJsonp([4],{M6t0:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={data:function(){return{msg:"",token:"",showConfirm:!1,showCancel:!1,hasPay:!1,id:"",src:"",password:""}},filters:{toFixeds:function(s){return(s=Number(s)).toFixed(3)}},created:function(){var s=window.localStorage.getItem("token")||"";s&&(this.token=s,this.id=this.$route.query.id,this.getData())},methods:{getData:function(){var s=this,t=layer.load();this.$http({url:"/api/legal_deal",params:{id:this.id},headers:{Authorization:this.token}}).then(function(a){layer.close(t),"ok"==a.data.type&&(s.msg=a.data.message)})},cancel:function(){var s=this;this.showCancel=!1,layer.prompt({title:s.$t("td.pwd"),formType:1,btn:[s.$t("td.confirm"),s.$t("td.canceil")]},function(t,a){s.password=t,s.$http({url:"/api/user_legal_pay_cancel",method:"post",data:{id:s.id,password:s.password},headers:{Authorization:s.token}}).then(function(t){layer.msg(t.data.message),"ok"==t.data.type&&setTimeout(function(){s.$router.push("/legalRecord")},1e3)}).then(function(){s.showCancel=!1}),layer.close(a)})},file:function(){var s=this,t=new FormData;t.append("file",$("#file")[0].files[0]);var a=layer.load();$.ajax({url:"/api/upload",type:"post",data:t,processData:!1,contentType:!1,success:function(t){layer.close(a),"ok"==t.type&&(s.src=t.message,s.src?s.showConfirm=!0:layer.msg("图片上传失败"))}})},confirm:function(){var s=this;s.showConfirm=!1,layer.prompt({title:s.$t("td.pwd"),formType:1,btn:[s.$t("td.confirm"),s.$t("td.canceil")]},function(t,a){s.password=t,s.$http({url:"/api/user_legal_pay",method:"post",data:{id:s.id,password:s.password},headers:{Authorization:s.token}}).then(function(t){layer.msg(t.data.message),"ok"==t.data.type&&setTimeout(function(){s.$router.push("/legalRecord")},1e3)}).then(function(){s.showConfirm=!1}),layer.close(a)})}}},n={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"white",attrs:{id:"legal-pay"}},[a("div",{staticClass:"title bg-part"},[a("span",[s._v(s._s(s.$t("fat.payPlease")))]),s._v(" "),a("span",[s._v("￥"+s._s(s._f("toFixeds")(s.msg.deal_money||"0.000")))])]),s._v(" "),a("div",{staticClass:"info bg-part"},[a("div",[a("span",[s._v(s._s(s.$t("fat.tdPrice"))+"：")]),s._v(" "),a("span",[s._v(s._s(s._f("toFixeds")(s.msg.price||"0.000"))+" "+s._s(s.msg.coin_code))])]),s._v(" "),a("div",[a("span",[s._v(s._s(s.$t("fat.tdNum"))+"：")]),s._v(" "),a("span",[s._v(s._s(s._f("toFixeds")(s.msg.number||"0.000"))+s._s(s.msg.currency_name))])]),s._v(" "),a("div",[a("span",[s._v(s._s(s.$t("fat.realName"))+"：")]),s._v(" "),a("span",[s._v(s._s(s.msg.hes_realname))])]),s._v(" "),a("div",[a("span",[s._v(s._s(s.$t("td.callWay"))+"：")]),s._v(" "),a("span",[s._v(s._s(s.msg.sell_info.mobile))])]),s._v(" "),a("div",[a("span",[s._v(s._s(s.$t("td.renum"))+"：")]),s._v(" "),a("span",[s._v(s._s(s.msg.id))])]),s._v(" "),a("div",[a("span",[s._v(s._s(s.$t("fat.shoperNum"))+"：")]),s._v(" "),a("router-link",{staticStyle:{color:"#638bd4",cursor:"pointer"},attrs:{to:{path:"/legalSeller",query:{sellerId:s.msg.seller_id}},tag:"span"}},[s._v(s._s(s.msg.seller_name))])],1),s._v(" "),s._l(s.msg.pay_ways_arr,function(t){return"ali_pay"==t?a("div",{staticClass:"flex column"},[a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business14"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.ali_nickname))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business15"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.ali_account))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business19"))+":")]),a("span",[a("img",{staticStyle:{width:"150px"},attrs:{src:s.msg.sell_info.alipay_collect,alt:""}})])])]):s._e()}),s._v(" "),s._l(s.msg.pay_ways_arr,function(t){return"we_chat"==t?a("div",{staticClass:"flex column"},[a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business12"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.wechat_nickname))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business13"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.wechat_account))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business20"))+":")]),a("span",[a("img",{staticStyle:{width:"150px"},attrs:{src:s.msg.sell_info.wechat_collect,alt:""}})])])]):s._e()}),s._v(" "),s._l(s.msg.pay_ways_arr,function(t){return"bank"==t?a("div",{staticClass:"flex  column"},[a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.bank"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.bank_name))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business18"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.bank_address))])]),s._v(" "),a("div",{staticClass:"flex alcenter"},[a("span",[s._v(s._s(s.$t("fat.business17"))+":")]),a("span",[s._v(s._s(s.msg.sell_info.bank_account))])])]):s._e()}),s._v(" "),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:function(t){s.showCancel=!0}}},[s._v(s._s(s.$t("fat.odCeil")))]),s._v(" "),a("div",{staticClass:"btn",on:{click:function(t){s.showConfirm=!0}}},[s._v(s._s(s.$t("fat.imPay")))])])],2),s._v(" "),s.showCancel?a("div",{staticClass:"cancel-box"},[a("div",{staticClass:"content"},[a("div",[s._v(s._s(s.$t("fat.tdCeil")))]),s._v(" "),a("div",[s._v(s._s(s.$t("fat.pCeil")))]),s._v(" "),a("div",{staticClass:"yes-no flex"},[a("div",{on:{click:function(t){s.showCancel=!1}}},[s._v(s._s(s.$t("td.canceil")))]),s._v(" "),a("div",{on:{click:s.cancel}},[s._v(s._s(s.$t("td.confirm")))])])])]):s._e(),s._v(" "),s.showConfirm?a("div",{staticClass:"confirm-box"},[a("div",{staticClass:"content"},[a("div",[s._v(s._s(s.$t("fat.paySure")))]),s._v(" "),a("div",[s._v(s._s(s.$t("fat.pdopay")))]),s._v(" "),a("div",[s._v(s._s(s.$t("fat.badClick")))]),s._v(" "),a("div",{staticClass:"yes-no flex"},[a("div",{on:{click:function(t){s.showConfirm=!1}}},[s._v(s._s(s.$t("td.canceil")))]),s._v(" "),a("div",{on:{click:s.confirm}},[s._v(s._s(s.$t("td.confirm")))])])])]):s._e()])},staticRenderFns:[]};var i=a("VU/8")(e,n,!1,function(s){a("yP8y")},null,null);t.default=i.exports},yP8y:function(s,t){}});
//# sourceMappingURL=4.0d05d8f8e371730346df.js.map